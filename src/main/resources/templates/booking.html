<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>包廂預約</title>
</head>
<body class="index-page">

<header id="header" class="header d-flex align-items-center sticky-top">
  <div class="container d-flex justify-content-between align-items-center">
      <i class="bi bi-box-seam"></i>
      <h1 class="sitename">iZoneHub</h1>
    </a>
  </div>
</header>

<main class="main">
  <section class="section">
    <div class="container">
      <div class="section-title text-center">
        <h2>包廂預約（整點選擇）</h2>
        <p>請選擇開始與結束時間（日期＋小時）</p>
      </div>

        <div id="selectedRoom" class="mb-4 text-center">
        </div>

        <form id="bookingForm" class="php-email-form">
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="startDate">開始日期</label>
              <input type="date" id="startDate" name="startDate" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label for="startHour">開始時間（整點）</label>
              <select id="startHour" name="startHour" class="form-control" required></select>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-md-6">
              <label for="endDate">結束日期</label>
              <input type="date" id="endDate" name="endDate" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label for="endHour">結束時間（整點）</label>
              <select id="endHour" name="endHour" class="form-control" required></select>
            </div>
          </div>

          <div class="mb-3">
            <label>試算金額</label>
          </div>

          <div class="text-center">
            <button type="submit" class="btn custom-gold-btn">立即結帳</button>
          </div>
        </form>
    </div>
  </section>
</main>


<script th:inline="javascript">
  /*<![CDATA[*/




    // 產生 0-23 點的下拉選單
      for (let i = 0; i < 24; i++) {
        const h = i.toString().padStart(2, '0');
        const option = document.createElement('option');
        option.value = h;
        option.textContent = `${h}:00`;
      }
    }

    // 計算並顯示預估價格
    function calculatePrice() {

      if (startDate && startHour && endDate && endHour) {
        const start = new Date(`${startDate}T${startHour}:00:00`);
        const end = new Date(`${endDate}T${endHour}:00:00`);

        if (end > start) {
          const diffMs = end - start;
          const hours = diffMs / (1000 * 60 * 60);
        } else {
          priceDisplay.textContent = '$0';
        }
      }
    }

    // 處理預約表單提交


      const start = new Date(`${startDate}T${startHour}:00:00`);
      const end = new Date(`${endDate}T${endHour}:00:00`);

      if (end <= start) {
        alert('結束時間必須晚於開始時間');
        return;
      }


    }

  /*]]>*/
</script>

</body>
</html>